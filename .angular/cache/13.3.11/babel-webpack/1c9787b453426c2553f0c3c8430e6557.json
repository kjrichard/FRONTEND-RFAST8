{"ast":null,"code":"import _classCallCheck from \"C:\\\\FRONTEND-RFAST8\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\FRONTEND-RFAST8\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { catchError, map, of, tap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nvar urlApi = 'http://localhost:3000';\nexport var CursoVidaService = /*#__PURE__*/(function () {\n  var CursoVidaService = /*#__PURE__*/function () {\n    function CursoVidaService(http, router) {\n      _classCallCheck(this, CursoVidaService);\n\n      this.http = http;\n      this.router = router;\n      this.customerData = null;\n    }\n\n    _createClass(CursoVidaService, [{\n      key: \"token\",\n      get: function get() {\n        return localStorage.getItem('token');\n      }\n    }, {\n      key: \"obtenerCursoVida\",\n      value: function obtenerCursoVida() {\n        var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n        var CODIGO = arguments.length > 1 ? arguments[1] : undefined;\n        var edadInicial = arguments.length > 2 ? arguments[2] : undefined;\n        var edadFinal = arguments.length > 3 ? arguments[3] : undefined;\n        return this.http.get(\"\".concat(urlApi, \"/curso-vida/\").concat(CODIGO, \"/\").concat(edadInicial, \"/\").concat(edadFinal, \"?page=\").concat(page, \"&limit=100\"), {\n          headers: {\n            'x-token': this.token\n          }\n        });\n      }\n    }, {\n      key: \"buscarCursoVida\",\n      value: function buscarCursoVida() {\n        var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n        var arrayId = arguments.length > 1 ? arguments[1] : undefined;\n        var CODIGO = arguments.length > 2 ? arguments[2] : undefined;\n        var edadInicial = arguments.length > 3 ? arguments[3] : undefined;\n        var edadFinal = arguments.length > 4 ? arguments[4] : undefined;\n        return this.http.post(\"\".concat(urlApi, \"/curso-vida/buscar/\").concat(CODIGO, \"/\").concat(edadInicial, \"/\").concat(edadFinal, \"?page=\").concat(page, \"&limit=100\"), arrayId, {\n          headers: {\n            'x-token': this.token\n          }\n        });\n      }\n    }, {\n      key: \"exportarExcel\",\n      value: function exportarExcel(CODIGO, edadInicial, edadFinal) {\n        return this.http.get(\"\".concat(urlApi, \"/exportar-excel/\").concat(CODIGO, \"/\").concat(edadInicial, \"/\").concat(edadFinal), {\n          headers: {\n            'x-token': this.token\n          }\n        });\n      }\n    }, {\n      key: \"login\",\n      value: function login(data) {\n        return this.http.post(\"\".concat(urlApi, \"/login/\"), data);\n      }\n    }, {\n      key: \"validarToken\",\n      value: function validarToken(id) {\n        var _this = this;\n\n        id = +localStorage.getItem('id_usuario');\n        var token = localStorage.getItem('token') || '';\n        return this.http.get(\"\".concat(urlApi, \"/validar-token/\").concat(id), {\n          headers: {\n            'x-token': token\n          }\n        }).pipe(tap(function (res) {\n          _this.USUARIO = res.usuarioLogeado;\n          localStorage.setItem('token', res.token);\n        }), map(function (res) {\n          return true;\n        }), catchError(function (error) {\n          return of(false);\n        }));\n      }\n    }]);\n\n    return CursoVidaService;\n  }();\n\n  CursoVidaService.ɵfac = function CursoVidaService_Factory(t) {\n    return new (t || CursoVidaService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router));\n  };\n\n  CursoVidaService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: CursoVidaService,\n    factory: CursoVidaService.ɵfac,\n    providedIn: 'root'\n  });\n  return CursoVidaService;\n})();","map":null,"metadata":{},"sourceType":"module"}